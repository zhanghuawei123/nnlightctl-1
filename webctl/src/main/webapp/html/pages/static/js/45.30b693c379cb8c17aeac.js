webpackJsonp([45],{MI2P:function(t,e){},ZZxV:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("pjge"),o={name:"",data:function(){return{activeName:0,options:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],isCommit:[{value:0,label:"未提交"},{value:"1",label:"已提交"}],value:"",input:"",tableData3:[],dialogFormVisible:!1,form:{nnlightctlEleboxId:"",nnlightctlPropertyClassifyCatalogId:"",propertyName:"",propertyCount:"",faultDate:"",createDate:"",nnlightctlUserId:"",isCommit:""},rules:{propertyName:[{required:!0,message:"请输入名称",trigger:"blur"},{min:2,max:20,message:"长度在 3 到 5 个字符",trigger:"blur"}]}}},created:function(){var t=this;Object(l.t)(this.activeName).then(function(e){for(var a=0;a<e.data.length;a++)e.data[a].faultDate=Object(l.f)(e.data[a].faultDate),e.data[a].createDate=Object(l.f)(e.data[a].createDate),0===e.data[a].isCommit?e.data[a].isCommit="未提交":e.data[a].isCommit="已提交";t.tableData3=e.data})},methods:{handleClick:function(t,e){var a=this;console.log(t.name),this.activeName=t.name;Object(l.t)(t.name).then(function(t){for(var e=0;e<t.data.length;e++)t.data[e].faultDate=Object(l.f)(t.data[e].faultDate),t.data[e].createDate=Object(l.f)(t.data[e].createDate),0===t.data[e].isCommit?t.data[e].isCommit="未提交":t.data[e].isCommit="已提交";a.tableData3=t.data})},handleEdit:function(t,e){},handleDelete:function(t,e){var a=this,o=[];o.push(e.id),console.log(o);var i=this;Object(l.l)(o).then(function(t){i.$message({type:"success",message:"删除成功"}),Object(l.t)(a.activeName).then(function(t){for(var e=0;e<t.data.length;e++)t.data[e].faultDate=Object(l.f)(t.data[e].faultDate),t.data[e].createDate=Object(l.f)(t.data[e].createDate),0===t.data[e].isCommit?t.data[e].isCommit="未提交":t.data[e].isCommit="已提交";a.tableData3=t.data})})},handleSelectionChange:function(t){this.multipleSelection=t},alldelte:function(){for(var t=this,e=this,a=[],o=0;o<this.multipleSelection.length;o++)a.push(this.multipleSelection[o].id);Object(l.l)(a).then(function(a){e.$message({type:"success",message:"删除成功"}),Object(l.t)(t.activeName).then(function(e){for(var a=0;a<e.data.length;a++)e.data[a].faultDate=Object(l.f)(e.data[a].faultDate),e.data[a].createDate=Object(l.f)(e.data[a].createDate),0===e.data[a].isCommit?e.data[a].isCommit="未提交":e.data[a].isCommit="已提交";t.tableData3=e.data})})},updatacommitRepairRecord:function(){for(var t=this,e=this,a=new Array,o=0;o<this.multipleSelection.length;o++)a.push(this.multipleSelection[o].id);console.log(a),Object(l.g)(a).then(function(a){e.$message({type:"success",message:"提交成功"}),Object(l.t)(t.activeName).then(function(t){for(var a=0;a<t.data.length;a++)t.data[a].faultDate=Object(l.f)(t.data[a].faultDate),t.data[a].createDate=Object(l.f)(t.data[a].createDate),0===t.data[a].isCommit?t.data[a].isCommit="未提交":t.data[a].isCommit="已提交";e.tableData3=t.data})})},linkmanAdd:function(t){var e,a,o=this,i=this,r=new Date(i.form.faultDate),n=new Date(i.form.createDate);e=r.getFullYear()+"/"+(r.getMonth()+1)+"/"+r.getDate()+" "+r.getHours()+":"+r.getMinutes()+":"+r.getSeconds(),a=n.getFullYear()+"/"+(n.getMonth()+1)+"/"+n.getDate()+" "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds(),console.log(e),this.$refs[t].validate(function(t){if(!t)return!1;Object(l.c)(i.form.nnlightctlEleboxId,i.form.nnlightctlPropertyClassifyCatalogId,i.form.propertyName,i.form.propertyCount,e,a,i.form.nnlightctlUserId,Number(i.form.isCommit)).then(function(t){i.$message({type:"success",message:"添加成功"}),o.dialogFormVisible=!1,Object(l.t)().then(function(t){for(var e=0;e<t.data.length;e++)t.data[e].faultDate=Object(l.f)(t.data[e].faultDate),t.data[e].createDate=Object(l.f)(t.data[e].createDate),0===t.data[e].isCommit?t.data[e].isCommit="未提交":t.data[e].isCommit="已提交";o.tableData3=t.data})})})}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"未提交",name:"0"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"已提交",name:"1"}})],1),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",{staticClass:"search"},[a("div",[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1),t._v(" "),a("div",{staticStyle:{width:"30px"}}),t._v(" "),a("div",{staticClass:"dateChange"},[a("div",[t._v("所属配电柜")]),t._v(" "),a("div",{staticStyle:{width:"20px"}}),t._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),a("div",[a("el-button",{attrs:{type:"primary"}},[t._v("查询")])],1)]),t._v(" "),a("div",{staticClass:"buttonList"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("增加")]),t._v(" "),a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-delete"},on:{click:t.alldelte}},[t._v("批量删除")]),t._v(" "),a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-setting"}},[t._v("设置")]),t._v(" "),a("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-check"},on:{click:t.updatacommitRepairRecord}},[t._v("提交")])],1),t._v(" "),[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData3,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"propertyName",label:"资产名称",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"propertyCount",label:"资产数量",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"faultDate",label:"故障日期","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"createDate",label:"创建日期","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"nnlightctlUserId",label:"创建人","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"isCommit",label:"状态","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"nnlightctlEleboxId",label:"所属控制柜","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],t._v(" "),a("el-dialog",{attrs:{title:"添加资产",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"form",staticClass:"demo-ruleForm",staticStyle:{margin:"0 auto"},attrs:{model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"资产名称","label-width":"100px",prop:"propertyName"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.propertyName,callback:function(e){t.$set(t.form,"propertyName",e)},expression:"form.propertyName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"资产数量","label-width":"100px",prop:"propertyCount"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.propertyCount,callback:function(e){t.$set(t.form,"propertyCount",e)},expression:"form.propertyCount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"故障日期","label-width":"100px",prop:"faultDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.faultDate,callback:function(e){t.$set(t.form,"faultDate",e)},expression:"form.faultDate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"创建日期","label-width":"100px",prop:"createDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.createDate,callback:function(e){t.$set(t.form,"createDate",e)},expression:"form.createDate"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"创建人","label-width":"100px",prop:"nnlightctlUserId"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.nnlightctlUserId,callback:function(e){t.$set(t.form,"nnlightctlUserId",e)},expression:"form.nnlightctlUserId"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"资产目录","label-width":"100px",prop:"nnlightctlPropertyClassifyCatalogId"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.nnlightctlPropertyClassifyCatalogId,callback:function(e){t.$set(t.form,"nnlightctlPropertyClassifyCatalogId",e)},expression:"form.nnlightctlPropertyClassifyCatalogId"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":"100px",prop:"isCommit"}},[a("el-select",{attrs:{placeholder:"请选择","auto-complete":"off"},model:{value:t.form.isCommit,callback:function(e){t.$set(t.form,"isCommit",e)},expression:"form.isCommit"}},t._l(t.isCommit,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"所属控制柜","label-width":"100px",prop:"nnlightctlEleboxId"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.nnlightctlEleboxId,callback:function(e){t.$set(t.form,"nnlightctlEleboxId",e)},expression:"form.nnlightctlEleboxId"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.linkmanAdd("form")}}},[t._v("确 定")])],1)],1)],2)},staticRenderFns:[]};var r=a("VU/8")(o,i,!1,function(t){a("MI2P")},"data-v-00b871e0",null);e.default=r.exports}});
//# sourceMappingURL=45.30b693c379cb8c17aeac.js.map