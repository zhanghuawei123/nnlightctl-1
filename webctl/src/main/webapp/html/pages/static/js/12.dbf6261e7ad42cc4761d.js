webpackJsonp([12],{DwUu:function(t,e){},OENw:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7Zju"),l={name:"LightType",data:function(){return{pageNumber:1,pageSize:10,multipleSelection:[],currentPage:1,allTotal:null,LightList:[],addOrUpdateStatus:null,newLight:{},addLightDialog:!1,addNewLightRules:{modelName:[{required:!0,message:"填写内容不得为空",trigger:"blur"}],ratedVoltage:[{required:!0,message:"填写内容不得为空",trigger:"blur"}],ratedElectric:[{required:!0,message:"填写内容不得为空",trigger:"blur"}],ratedPower:[{required:!0,message:"填写内容不得为空",trigger:"blur"}],ledCount:[{required:!0,message:"填写内容不得为空",trigger:"blur"}]}}},methods:{handleSelectionChange:function(t){this.multipleSelection=t},handleCurrentChange:function(t){this.pageNumber=t,this.getListLightModel()},handleSizeChange:function(t){this.pageSize=t,this.getListLightModel()},getListLightModel:function(){var t=this,e=this;Object(i.c)(e.pageNumber,e.pageSize).then(function(a){e.LightList=a.data,e.LightList.length>0?t.allTotal=a.total:t.allTotal=0}).catch(function(t){console.log(t)})},addCabinet:function(){this.addLightDialog=!0,this.addOrUpdateStatus="add"},deleteRow:function(t,e){var a=this,l=[];1===t?l.push(this.LightList[e].id):this.multipleSelection.length>0?this.multipleSelection.forEach(function(t){l.push(t.id)}):this.$message({message:"请勾选需要删除的数据",type:"warning"}),this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(i.b)(l).then(function(t){a.$message({type:"success",message:"删除成功!"}),a.getListLightModel()}).catch(function(t){console.log(t)})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},editRow:function(t){this.addOrUpdateStatus="edit",this.newLight=this.LightList[t],this.addLightDialog=!0},onSubmit:function(){var t=this,e=void 0;e="add"===this.addOrUpdateStatus?"添加成功":"修改成功",Object(i.a)(this.newLight).then(function(a){t.$message({type:"success",message:e}),t.getListLightModel(),t.addLightDialog=!1,t.handleCloseDialog()}).catch(function(t){console.log(t)})},handleCloseDialog:function(t){this.newLight={},this.$refs.addEditLightTypeForm.resetFields(),t()}},created:function(){this.getListLightModel()},destroyed:function(){}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"system-container"},[a("div",{staticClass:"system-top clearfix"},[a("div",{staticClass:"item-block f-l"},[a("span",{staticClass:"title"},[t._v("xxx")]),a("el-input",{attrs:{placeholder:"请输入内容"}})],1),t._v(" "),a("div",{staticClass:"item-block f-l"},[a("span",{staticClass:"title"},[t._v("xx")]),a("el-input",{attrs:{placeholder:"请输入内容"}})],1),t._v(" "),a("div",{staticClass:"btn-block f-r"},[a("el-button",{attrs:{type:"primary"}},[t._v("查询")])],1)]),t._v(" "),a("div",{staticClass:"system-center"},[a("div",{staticClass:"operation-bar"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addCabinet()}}},[t._v("增加灯具型号")]),t._v(" "),a("el-button",{on:{click:function(e){t.deleteRow(2)}}},[t._v("删除")])],1),t._v(" "),a("div",{staticClass:"data-list"},[a("el-table",{ref:"lightTypeTable",staticStyle:{width:"100%"},attrs:{data:t.LightList,"tooltip-effect":"dark","header-row-class-name":"datalist-header"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{fixed:"",type:"selection",width:"40"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"modelName",label:"型号名称",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ratedVoltage",label:"额定电压",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ratedElectric",label:"额定电流",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ratedPower",label:"额定功率",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ledCount",label:"LED数量",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mem",label:"备注"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),t.editRow(e.$index)}}},[t._v("\n              编辑\n            ")]),t._v(" "),a("el-button",{staticClass:"danger-text-btn",attrs:{type:"text",size:"small"},nativeOn:{click:function(a){a.preventDefault(),t.deleteRow(1,e.$index)}}},[t._v("\n              删除\n            ")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pagelist-block"},[a("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.allTotal},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]),t._v(" "),a("el-dialog",{attrs:{title:"添加灯具类型",visible:t.addLightDialog,"close-on-click-modal":!1,"close-on-press-escape":!1,center:"","before-close":t.handleCloseDialog},on:{"update:visible":function(e){t.addLightDialog=e}}},[a("el-form",{ref:"addEditLightTypeForm",attrs:{model:t.newLight,rules:t.addNewLightRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"型号名称",required:"",prop:"modelName"}},[a("el-input",{staticClass:"width350",model:{value:t.newLight.modelName,callback:function(e){t.$set(t.newLight,"modelName",e)},expression:"newLight.modelName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"额定电压",required:"",prop:"ratedVoltage"}},[a("el-input",{staticClass:"width350",model:{value:t.newLight.ratedVoltage,callback:function(e){t.$set(t.newLight,"ratedVoltage",e)},expression:"newLight.ratedVoltage"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"额定电流",required:"",prop:"ratedElectric"}},[a("el-input",{staticClass:"width350",model:{value:t.newLight.ratedElectric,callback:function(e){t.$set(t.newLight,"ratedElectric",e)},expression:"newLight.ratedElectric"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"额定功率",required:"",prop:"ratedPower"}},[a("el-input",{staticClass:"width350",model:{value:t.newLight.ratedPower,callback:function(e){t.$set(t.newLight,"ratedPower",e)},expression:"newLight.ratedPower"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"LED数量",required:"",prop:"ledCount"}},[a("el-input",{staticClass:"width350",model:{value:t.newLight.ledCount,callback:function(e){t.$set(t.newLight,"ledCount",e)},expression:"newLight.ledCount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入内容"},model:{value:t.newLight.mem,callback:function(e){t.$set(t.newLight,"mem",e)},expression:"newLight.mem"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addLightDialog=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var s=a("VU/8")(l,n,!1,function(t){a("zIdd"),a("DwUu")},"data-v-69a5de55",null);e.default=s.exports},zIdd:function(t,e){}});
//# sourceMappingURL=12.dbf6261e7ad42cc4761d.js.map